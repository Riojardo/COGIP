<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/63380e220c.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
   <script type="module" src="./assets/tabs.js"></script>
    <!-- <script type="module" src="assets\tabs_2.js"></script> -->
    <title>Dashboard</title>
  </head>

<body>
    <div class="flex w-full h-min">
      <div class="flex flex-col w-[15%] items-center justify-center">
        <div class="flex flex-col items-center m-0 h-min p-[5%]">
          <img
            class="rounded-full w-24 h-24 p-2"
            src="./assets/img/IMG_0808-removebg-preview.png"
          />
          <div class="flex flex-col h-full text-[12px]">
            <div>Thomas</div>
            <div>Scozzari</div>
          </div>
        </div>
        <div
          class="h-px w-full border-t-2 mb-6"
          style="color: rgba(115, 115, 115, 1)"
        ></div>
        <div class="h-5/6 p-[5%]">
          <ul class="flex flex-col">
            <li class="flex flex-col mb-2">
              <svg
                class="self-center"
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M7.0968 6.03223V21.2903" stroke="#9698D6" />
                <rect
                  x="0.5"
                  y="0.5"
                  width="21"
                  height="21"
                  rx="2.5"
                  stroke="#9698D6"
                />
                <path d="M0.354858 6.03223H21.2903" stroke="#9698D6" />
              </svg>
              <a
                href="dashboard.html"
                class="text-[10px] self-center font-bold"
              >
                Dashboard</a
              >
            </li>
            <li class="flex flex-col mb-2">
              <svg
                class="self-center"
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M3.88232 11H17.4706" stroke="#9698D6" />
                <path d="M3.88232 16.8235H17.4706" stroke="#9698D6" />
                <path d="M3.88232 7.11768H7.76468" stroke="#9698D6" />
                <rect
                  x="0.5"
                  y="0.5"
                  width="21"
                  height="21"
                  rx="2.5"
                  stroke="#9698D6"
                />
              </svg>
              <a href="dashboard-invoices.html" class="text-[10px] self-center">
                Invoices</a
              >
            </li>
            <li class="flex flex-col mb-2">
              <svg
                class="self-center"
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5.82355 10.353H7.76472M5.82355 14.2354H7.76472M12.2941 8.41187H15.5294M12.2941 11.6472H15.5294M12.2941 14.2354H15.5294"
                  stroke="#9698D6"
                />
                <path
                  d="M1.29407 16.8236H20.7058M3.8823 16.8236V7.11768H7.1176H10.3529V16.8236H3.8823Z"
                  stroke="#9698D6"
                />
                <path
                  d="M10.353 7.62853V5.17651H18.1177V16.8236"
                  stroke="#9698D6"
                />
                <rect
                  x="0.5"
                  y="0.5"
                  width="21"
                  height="21"
                  rx="2.5"
                  stroke="#9698D6"
                />
              </svg>
              <a
                href="dashboard-companies.html"
                class="text-[10px] self-center"
              >
                Companies</a
              >
            </li>
            <li class="flex flex-col">
              <svg
                class="self-center"
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="0.5"
                  y="0.5"
                  width="21"
                  height="21"
                  rx="2.5"
                  stroke="#9698D6"
                />
                <path
                  d="M16.8235 18.1176H5.17645V11.647L11 12.9411L16.8235 11.647V18.1176Z"
                  stroke="#9698D6"
                />
                <circle cx="11" cy="8.41174" r="4.02941" stroke="#9698D6" />
              </svg>
              <a href="dashboard-contacts.html" class="text-[10px] self-center">
                Contacts</a
              >
            </li>
          </ul>
        </div>
        <div
          class="h-px w-full border-t-2"
          style="color: rgba(115, 115, 115, 1)"
        ></div>
        <div class="flex flex-col justify-between p-2 h-min">
          <img
            class="rounded-full w-8 h-8"
            src="./assets/img/IMG_0808-removebg-preview.png"
          />
          <button class="text-[10px]">Logout</button>
        </div>
      </div>
      <div
        class="flex flex-col w-[85%] bg-slate-100 border-l-2 p-8 h-full pt-0"
      >
        <div class="flex flex-col max-h-[20%]">
          <img
            src="./assets/img/Pasted Graphic.png"
            class="md:absolute md:top-0 md:right-0 md:w-auto md:max-w-[20%] min-h-[20%] hidden md:block"
          />
          <div class="flex flex-col h-full max-h-52 p-12">
            <div class="text-3xl font-black">Dashboard</div>
            <div>dashboard/</div>
          </div>
          <div
            class="flex flex-col h-full max-h-52 bg-indigo-300 rounded-md w-full justify-center"
          >
            <div
              class="w-full flex flex-col text-justify items-center p-12 md:w-1/2"
            >
              <div class="text-4xl text-bold text-white h-fit">
                Welcome back Thomas!
              </div>
              <div class="text-white text-base h-fit">
                You can here add an invoice, a company and some contacts
              </div>
            </div>
          </div>
        </div>
        <div class="w-full flex flex-col md:flex-row">
          <div class="w-full p-4 md:w-1/2">
            <div class="bg-white rounded-md mt-16">
              <div class="text-lg font-bold p-6">Statistics</div>
              <div class="flex justify-between p-10 pt-4 text-xs text-center">
                <div
                id ="contacts_number"
                  class="w-16 h-16 rounded-full bg-indigo-300 flex items-center"
                >
                <script>
                  fetch('http://localhost/COGIP/backend/api.php/contacts')
                    .then(response => {
                      if (!response.ok) {
                        throw new Error('Failed to fetch data from the API');
                      }
                      return response.json();
                    })
                    .then(contacts => {
                      let nameCounts = {};
                      contacts.forEach(company => {
                        let name = contacts.name;
                        nameCounts[name] = (nameCounts[name] || 0) + 1;
                      });

                      let totalSum = Object.values(nameCounts).reduce((sum, count) => sum + count, 0);
                      let sum_contacts= document.getElementById("contacts_number");

                      sum_contacts.textContent = (totalSum + " contacts ");
                    })
                    .catch(error => {
                      console.error('Error fetching data from the API:', error);
                    });
                </script>
                </div>
                <div
                id ="invoices_number"
                  class="w-16 h-16 rounded-full bg-indigo-300 flex items-center"
                >
                <script>
                  fetch('http://localhost/COGIP/backend/api.php/invoices')
                    .then(response => {
                      if (!response.ok) {
                        throw new Error('Failed to fetch data from the API');
                      }
                      return response.json();
                    })
                    .then(invoices=> {
                      let nameCounts = {};
                      invoices.forEach(contact => { 
                        let name = invoices.name;
                        nameCounts[name] = (nameCounts[name] || 0) + 1;
                      });
              
                      let totalSum = Object.values(nameCounts).reduce((sum, count) => sum + count, 0);
                      let sumContactsElement = document.getElementById("invoices_number"); 
                
                      sumContactsElement.textContent = totalSum + " invoices"; 
                    })
                    .catch(error => {
                      console.error('Error fetching data from the API:', error);
                    });
                </script>
                </div>
                <div
                id ="companies_number"
                  class="w-16 h-16 rounded-full bg-indigo-300 flex items-center"
                >
                <script>
                  fetch('http://localhost/COGIP/backend/api.php/companies')
                    .then(response => {
                      if (!response.ok) {
                        throw new Error('Failed to fetch data from the API');
                      }
                      return response.json();
                    })
                    .then(companies => {
                      let nameCounts = {};
                      companies.forEach(company => {
                        let name = company.name;
                        nameCounts[name] = (nameCounts[name] || 0) + 1;
                      });

                      let totalSum = Object.values(nameCounts).reduce((sum, count) => sum + count, 0);
                      let sum_companies= document.getElementById("companies_number");

                      sum_companies.textContent = (totalSum + " companies ");
                    })
                    .catch(error => {
                      console.error('Error fetching data from the API:', error);
                    });
                </script>
                </div>
              </div>
            </div>
            <div class="bg-white rounded-md w-full mt-8">
              <div class="text-lg font-bold p-6">
                Last Contacts
                <div
                  class="h-px w-full border-t-2 mt-2"
                  style="color: rgba(115, 115, 115, 1)"
                ></div>
              </div>
              <div id="lastContacts_dashboard" class="px-6 pb-6">
                <table class="w-full border-separate border-spacing-y-5">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Company Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Created At</th>
                            <th>Updated At</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                                <button class="deleteBtn">
                                  <a href="#" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce contact ?');">Delete</a>
                                </button>
                                <button class="updateBtn">
                                  <a href="#">Update</a>
                                </button>
                            </td>
                        </tr>
                        <tr>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td>
                            <button class="deleteBtn">
                              <a href="#" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce contact ?');">Delete</a>
                            </button>
                              <button class="updateBtn">
                                <a href="#">Update</a>
                              </button>
                          </td>
                      </tr> <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>
                          <button class="deleteBtn">
                            <a href="#" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce contact ?');">Delete</a>
                          </button>
                            <button class="updateBtn">
                              <a href="#">Update</a>
                            </button>
                        </td>
                    </tr> <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td>
                        <button class="deleteBtn">
                          <a href="#" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce contact ?');">Delete</a>
                        </button>
                          <button class="updateBtn">
                            <a href="#">Update</a>
                          </button>
                      </td>
                  </tr> <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>
                      <button class="deleteBtn">
                        <a href="#" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce contact ?');">Delete</a>
                      </button>
                        <button class="updateBtn">
                          <a href="#">Update</a>
                        </button>
                    </td>
                </tr>
                    </tbody>
                </table>
            </div>
            </div>
          </div>
          <div class="w-full p-4 md:w-1/2">
            <div class="bg-white rounded-md w-full mt-16">
              <div class="text-lg font-bold p-6">
                Last Invoices
                <div
                  class="h-px w-full border-t-2 mt-2"
                  style="color: rgba(115, 115, 115, 1)"
                ></div>
              </div>
              <div id="lastInvoices_dashboard" class="px-6 pb-6">
                <table class="w-full border-separate border-spacing-y-5">
                    <thead>
                        <tr>
                            <th>Ref</th>
                            <th>Date Due</th>
                            <th>Price</th>
                            <th>Company Name</th>
                            <th>Created At</th>
                            <th>Updated At</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
          
                              <button class="deleteBtn">Delete</button>
                              <button class="updateBtn">
                                  <a href="#">Update</a>
                              </button>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                              <button class="deleteBtn">Delete</button>
    <button class="updateBtn">
        <a href="#">Update</a>
    </button>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                              <button class="deleteBtn">Delete</button>
                              <button class="updateBtn">
                                  <a href="#">Update</a>
                              </button>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                              <button class="deleteBtn">Delete</button>
    <button class="updateBtn">
        <a href="#">Update</a>
    </button>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                              <button class="deleteBtn">Delete</button>
                              <button class="updateBtn">
                                  <a href="#">Update</a>
                              </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="bg-white rounded-md w-full mt-8">
              <div class="text-lg font-bold p-6">
                Last Companies
                <div
                  class="h-px w-full border-t-2 mt-2"
                  style="color: rgba(115, 115, 115, 1)"
                ></div>
              </div>
              <div id="lastCompanies_dashboard" class="px-6 pb-6">
                <table class="w-full border-separate border-spacing-y-5">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Country</th>
                            <th>TVA</th>
                            <th>Created At</th>
                            <th>Updated At</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                                <button class="deleteBtn">Delete</button>
                                <button class="updateBtn">
                                  <a href=#">Update</a>
                                </button>
                            </td>
                        </tr>
                        <tr>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td>
                              <button class="deleteBtn">Delete</button>
                              <button class="updateBtn">
                                <a href="#">Update</a>
                              </button>
                          </td>
                      </tr> <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>
                            <button class="deleteBtn">Delete</button>
                            <button class="updateBtn">
                              <a href="#">Update</a>
                            </button>
                        </td>
                    </tr> <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td>
                          <button class="deleteBtn">Delete</button>
                          <button class="updateBtn">
                            <a href="#">Update</a>
                          </button>
                      </td>
                  </tr> <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>
                        <button class="deleteBtn">Delete</button>
                        <button class="updateBtn">
                          <a href="#">Update</a>
                        </button>
                    </td>
                </tr>
                    </tbody>
                </table>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
